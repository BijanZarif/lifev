# -*- mode: m4 -*-
#
#  This file is part of the LifeV library
#
#  Author(s): Christophe Prud'homme <christophe.prudhomme@epfl.ch>
#       Date: 2004-08-29
#
#  Copyright (C) 2004 EPFL, INRIA and Politechnico di Milano
#
#  This library is free software; you can redistribute it and/or
#  modify it under the terms of the GNU Lesser General Public
#  License as published by the Free Software Foundation; either
#  version 2.1 of the License, or (at your option) any later version.
#
#  This library is distributed in the hope that it will be useful,
#  but WITHOUT ANY WARRANTY; without even the implied warranty of
#  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
#  Lesser General Public License for more details.
#
#  You should have received a copy of the GNU Lesser General Public
#  License along with this library; if not, write to the Free Software
#  Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
#
# \file testsuite.at
# \author Christophe Prud'homme <christophe.prudhomme@epfl.ch>
# \date 2004-08-29
# 
AT_SETUP([test_onedmodel])
AT_KEYWORDS([onedmodel])
AT_DATA([keystrokes],[[

]])

AT_DATA([data],[[# -*- getpot -*- (GetPot mode activation for emacs)
#-------------------------------------------------
#   Data file for One D Model (Non Linear)
#-------------------------------------------------

[physics]
[./BCs]
test_case	= 13	# test case for boundary conditions
[../parameters]
alphaCor	= 3.0		# coriolis coeff
beta0	= 4.0		# pressure law factor
beta1	= 5.5		# pressure law exponent
Kr	= 6.0		# friction parameter (source term)

[time]
timebeg	 = 0.0		# inittime
timeend	 = 7.0		# endtime
timestep = 0.001		# timestep		

[discretization]
mesh_file	= cylhexa.mesh	# mesh file name
mesh_dir = ./
		# the directory where the mesh file is
x_left	= 0.
x_right	= 10.
nx	= 99	# (nx+1) = number of elements (0,...,nx)

[miscellaneous]
post_dir = ./Post                 # the directory for postprocessing files
verbose = 5
post_proc_format = medit          # vtk or medit
show_graceplot = 0                # 0: do show grace plot, 1: show grace plots

[aztec]  
solver = cg  #cg , gmres, cgs, tfqmr, bicgstab, slu, symmlq, fixed_pt, lu
precond = dom_decomp
subdomain_solve = icc
output = warnings    #warnings , none , all, all_res, last
tol = 1e-6
]])
AT_CHECK([$top_builddir/testsuite/test_onedmodel/test_onedmodel < keystrokes],[0],[ignore],[ignore])
AT_CLEANUP
