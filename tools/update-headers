#! /bin/sh

findhpp()
{
# find life/$1 -name '*.hpp' | xargs -ithehppheader echo "thehppheader \\ "
 find $1 -name '*.hpp' | xargs -ithehppheader echo -n "thehppheader "
}

cp /dev/null Makefile.headers

lifecore=`findhpp  "life/lifecore"`
lifearray=`findhpp  "life/lifearray"`
lifealg=`findhpp  "life/lifealg"`
lifemesh=`findhpp  "life/lifemesh"`
lifefem=`findhpp  "life/lifefem"`
lifesolver=`findhpp  "life/lifesolver"`
lifefilters=`findhpp  "life/lifefilters"`
testsuite=`findhpp "testsuite/functions/NavierStokes"`

echo -n "creating Makefile.headers..."
    cat > Makefile.headers <<EOF
#
# DO NOT EDIT : generated automatically by update-headers
#

LIFECORE_HDRS=$lifecore

LIFEARRAY_HDRS=$lifearray

LIFEALG_HDRS=$lifealg

LIFEMESH_HDRS=$lifemesh

LIFEFEM_HDRS=$lifefem

LIFESOLVER_HDRS=$lifesolver

LIFEFILTERS_HDRS=$lifefilters

TESTSUITE_HDRS=$testsuite

nobase_include_HEADERS=lifeconfig.h\\
\$(LIFECORE_HDRS)\\
\$(LIFEARRAY_HDRS)\\
\$(LIFEALG_HDRS)\\
\$(LIFEMESH_HDRS)\\
\$(LIFEFEM_HDRS)\\
\$(LIFESOLVER_HDRS)\\
\$(LIFEFILTERS_HDRS)\\
\$(TESTSUITE_HDRS)
EOF
echo " done."


exit 0;
# Local variables:
# eval: (add-hook 'write-file-hooks 'time-stamp)
# time-stamp-start: "timestamp='"
# time-stamp-format: "%:y-%02m-%02d"
# time-stamp-end: "'"
